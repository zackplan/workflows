name: Webhook Workflow ðŸ”—

on:
  workflow_call:
    secrets:
      url:
        description: Webhook URL to call
        required: true

      secret:
        description: Secret used to verify that the webhook is coming from GitHub (see https://docs.github.com/en/developers/webhooks-and-events/webhooks/securing-your-webhooks)
        required: false

jobs:
  call_webhook:
    name: Call Webhook ðŸ“ž
    runs-on: ubuntu-latest

    steps:
      - name: Call Webhook ðŸ“ž
        uses: distributhor/workflow-webhook@b87727c1c92922034480e3e63c03af1ee79635d9 # pin@v3.0.5
        env:
          webhook_url: ${{ secrets.url }}
          webhook_secret: ${{ secrets.secret || github.sha }}
